import{r as n,w as E,j as e,z as d}from"./react-vendor-BInR9Shn.js";import{u as F}from"./Api-JtIxJkb8.js";import{av as L,aw as r}from"./vendor-C9Jj3IxS.js";import{C as V,a as B,B as x,A as I}from"./AppFooter-BfEwNnBi.js";import{I as l}from"./input-Dt9gxWse.js";import{A as R}from"./AppHeader-cVksfgnJ.js";import{E as b,b as j,a as T}from"./icons-BoOKHP1I.js";import{u as $,L as N}from"./router-Cqd3RRks.js";import"./index-B_AURrDL.js";import"./radix-CwdKC5j5.js";const c="bg-zinc-50 border-zinc-200 text-zinc-900 focus-visible:ring-purple-500 dark:bg-white/5 dark:border-white/10 dark:text-zinc-100",q=r.object({name:r.string().min(1,"Nome é obrigatório"),email:r.string().email("Email inválido"),password:r.string().min(8,"A senha deve ter pelo menos 8 caracteres").regex(/[a-z]/,"A senha deve conter letras minúsculas").regex(/[A-Z]/,"A senha deve conter letras maiúsculas").regex(/[0-9]/,"A senha deve conter números"),confirmPassword:r.string().min(1,"Confirmação de senha é obrigatória")}).refine(a=>a.password===a.confirmPassword,{message:"As senhas não coincidem",path:["confirmPassword"]});function U(){const[a,v]=n.useState(!1),[m,z]=n.useState(!1),[p,h]=n.useState(!1),y=F(),u=$(),{register:t,handleSubmit:C,watch:f,trigger:w,formState:{errors:s,isValid:P}}=E({resolver:L(q),mode:"onChange"}),k=f("password",""),g=f("confirmPassword","");n.useEffect(()=>{g&&w("confirmPassword")},[k,g,w]);const S=async i=>{h(!0);try{const o=await y.post("/register",{firstName:i.name,lastName:i.name,email:i.email,password:i.password});if(o.data?.message?.includes("Senha definida")){d.success(o.data.message),u("/login");return}d.success("Cadastro realizado! Verifique seu email para ativar sua conta."),u("/register-success")}catch(o){const A=o;d.error(A?.response?.data?.message??"Erro ao cadastrar. Tente novamente.")}finally{h(!1)}};return e.jsxs("div",{className:"min-h-screen w-full transition-colors duration-500 bg-zinc-100 dark:bg-zinc-950 text-zinc-900 dark:text-zinc-100",children:[e.jsxs("div",{className:"pointer-events-none fixed inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute -top-40 left-1/2 -translate-x-1/2 h-[500px] w-[500px] rounded-full bg-purple-600/20 blur-[120px]"}),e.jsx("div",{className:"absolute bottom-0 right-0 h-[400px] w-[400px] rounded-full bg-blue-600/20 blur-[120px]"})]}),e.jsx(R,{backTo:"/",badgeLabel:"Criar conta",maxWidth:"max-w-6xl"}),e.jsx("main",{className:"relative z-10 flex flex-col items-center justify-center px-6 py-16",children:e.jsx(V,{className:"w-full max-w-sm border-zinc-200/80 bg-white/80 backdrop-blur-xl dark:border-white/10 dark:bg-white/5",children:e.jsxs(B,{className:"p-6 space-y-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-zinc-900 dark:text-zinc-100 text-center",children:"Criar conta"}),e.jsx("p",{className:"text-center text-sm text-zinc-500 mb-4",children:"Preencha os dados para se cadastrar"}),e.jsxs("form",{onSubmit:C(S),className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"name",className:"text-sm text-zinc-500",children:"Nome"}),e.jsx(l,{id:"name",type:"text",placeholder:"Seu nome",className:c,...t("name")}),s.name&&e.jsx("p",{className:"text-xs text-red-400",children:s.name.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"email",className:"text-sm text-zinc-500",children:"Email"}),e.jsx(l,{id:"email",type:"email",placeholder:"seu@email.com",className:c,...t("email")}),s.email&&e.jsx("p",{className:"text-xs text-red-400",children:s.email.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"password",className:"text-sm text-zinc-500",children:"Senha"}),e.jsxs("div",{className:"relative",children:[e.jsx(l,{id:"password",type:a?"text":"password",placeholder:"••••••••",className:`pr-10 ${c}`,...t("password")}),e.jsx(x,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",onClick:()=>v(!a),children:a?e.jsx(b,{className:"h-4 w-4"}):e.jsx(j,{className:"h-4 w-4"})})]}),s.password&&e.jsx("p",{className:"text-xs text-red-400",children:s.password.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"confirmPassword",className:"text-sm text-zinc-500",children:"Confirmar senha"}),e.jsxs("div",{className:"relative",children:[e.jsx(l,{id:"confirmPassword",type:m?"text":"password",placeholder:"••••••••",className:`pr-10 ${c}`,...t("confirmPassword")}),e.jsx(x,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",onClick:()=>z(!m),children:m?e.jsx(b,{className:"h-4 w-4"}):e.jsx(j,{className:"h-4 w-4"})})]}),s.confirmPassword&&e.jsx("p",{className:"text-xs text-red-400",children:s.confirmPassword.message})]}),e.jsx(x,{type:"submit",disabled:p||!P,className:"w-full bg-gradient-to-r from-purple-500 to-blue-500 hover:opacity-90 text-white",children:p?e.jsx(T,{className:"h-4 w-4 animate-spin mx-auto"}):"Cadastrar"})]}),e.jsxs("p",{className:"text-center text-sm text-zinc-500 pt-2",children:["Já tem conta? ",e.jsx(N,{to:"/login",className:"text-purple-400 hover:underline",children:"Faça login"})]}),e.jsx("p",{className:"text-center text-sm",children:e.jsx(N,{to:"/",className:"text-zinc-500",children:"Voltar ao início"})})]})})}),e.jsx(I,{})]})}export{U as default};
