import{p as B,r as i,j as e}from"./react-vendor-BInR9Shn.js";import{C as D,a as H,B as p,A as q}from"./AppFooter-BfEwNnBi.js";import{I as w}from"./input-Dt9gxWse.js";import{A as G,B as P}from"./AppHeader-cVksfgnJ.js";import{S as V,a as M,b as O,c as U,d as W}from"./select-AavBAiHB.js";import{f as _,a as J}from"./lolApi-Dy74L0TO.js";import{u as K,a as v}from"./index-B_AURrDL.js";import{ao as Q}from"./vendor-C9Jj3IxS.js";import{m as o}from"./motion-dGjf3ri4.js";import{a as X,C as Y,T as Z,S as $}from"./icons-BoOKHP1I.js";import{u as ee,L as k}from"./router-Cqd3RRks.js";import"./radix-CwdKC5j5.js";const z=3;function C(){return new Date().toISOString().slice(0,10)}const h=B()(Q((t,r)=>({date:"",count:0,getFreeSearchCount(){const{date:s,count:c}=r();return s!==C()?0:c},incrementFreeSearch(){const s=C(),c=r().getFreeSearchCount();t({date:s,count:Math.min(c+1,z)})},canSearch(){return r().getFreeSearchCount()<z}}),{name:"elosense-free-searches",partialize:t=>({date:t.date,count:t.count})})),ae="BR1",te=["BR1","NA1","LA1","LA2","LAN1","LAS1","EUW1","EUN1","TR1","KR","JP1","OC1","PH2","SG2","TH2","TW2","VN2"];function be(){const[t,r]=i.useState(""),[s,c]=i.useState(""),[g,A]=i.useState(ae),[l,f]=i.useState(!1),[E,m]=i.useState("idle"),[j,x]=i.useState(null),[R,N]=i.useState(!1),F=ee(),{isAuthenticated:se}=K();h(a=>a.getFreeSearchCount);const L=h(a=>a.incrementFreeSearch),T=h(a=>a.canSearch),I=async a=>{a.preventDefault(),x(null),N(!1);const S=t.trim(),y=s.trim(),d=g.trim();if(!S||!y||!d){x("Preencha Game Name e Tag.");return}if(!v.getState().hasStoredToken()&&!T()){N(!0);return}f(!0);try{m("player");const n=await _(S,y,d);m("matches");const u=await J({puuid:n.puuid,region:d});v.getState().hasStoredToken()||L(),F("/dashboard",{state:{player:n,region:d,matches:u}})}catch(n){const u=n?.response?.data?.error?.message||n?.response?.data?.message||n?.message||"Erro ao buscar jogador. Verifique o Riot ID e a região.";x(u)}finally{f(!1),m("idle")}};return e.jsxs("div",{className:"min-h-screen w-full transition-colors duration-500 bg-zinc-100 dark:bg-zinc-950 text-zinc-900 dark:text-zinc-100",children:[e.jsxs("div",{className:"pointer-events-none fixed inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute -top-40 left-1/2 -translate-x-1/2 h-[500px] w-[500px] rounded-full bg-purple-600/20 blur-[120px]"}),e.jsx("div",{className:"absolute bottom-0 right-0 h-[400px] w-[400px] rounded-full bg-blue-600/20 blur-[120px]"})]}),e.jsx(G,{badgeLabel:"Beta",maxWidth:"max-w-6xl"}),e.jsxs("main",{className:"relative z-10",children:[e.jsxs("section",{className:"mx-auto flex max-w-4xl flex-col items-center px-6 pt-20 pb-16 text-center",children:[e.jsx(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-6",children:e.jsx(P,{className:"bg-purple-500/10 text-purple-400 border-purple-500/20",children:"Análise avançada"})}),e.jsxs(o.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1,duration:.6},className:"text-4xl font-bold tracking-tight sm:text-5xl",children:["Descubra exatamente",e.jsxs("span",{className:"bg-gradient-to-r from-purple-400 to-blue-400 bg-clip-text text-transparent",children:[" ","onde melhorar"]})]}),e.jsx(o.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.6},className:"mt-4 max-w-xl text-zinc-500",children:"Analise suas partidas, receba métricas e descubra o que está te impedindo de subir de elo."}),e.jsx(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.6},className:"mt-10 w-full max-w-md",children:e.jsx(D,{className:"border-zinc-200/80 bg-white/80 backdrop-blur-xl dark:border-white/10 dark:bg-white/5",children:e.jsxs(H,{className:"space-y-4 p-6",children:[e.jsxs("form",{onSubmit:I,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2 text-left",children:[e.jsx("label",{className:"text-sm text-zinc-500",children:"Nome de invocador"}),e.jsx(w,{placeholder:"Ex.: Faker",value:t,onChange:a=>r(a.target.value),disabled:l,className:"bg-zinc-50 border-zinc-200 text-zinc-900 focus-visible:ring-purple-500 dark:bg-white/5 dark:border-white/10 dark:text-zinc-100"})]}),e.jsxs("div",{className:"space-y-2 text-left",children:[e.jsx("label",{className:"text-sm text-zinc-500",children:"Tag"}),e.jsx(w,{placeholder:"Ex.: BR1",value:s,onChange:a=>c(a.target.value),disabled:l,className:"bg-zinc-50 border-zinc-200 text-zinc-900 focus-visible:ring-purple-500 dark:bg-white/5 dark:border-white/10 dark:text-zinc-100"})]}),e.jsxs("div",{className:"space-y-2 text-left",children:[e.jsx("label",{htmlFor:"region-select",className:"text-sm text-zinc-500",children:"Região"}),e.jsxs(V,{value:g,onValueChange:A,disabled:l||!0,children:[e.jsx(M,{id:"region-select",className:"w-full text-zinc-900 dark:text-zinc-100",children:e.jsx(O,{})}),e.jsx(U,{className:"bg-white border-zinc-200 text-zinc-900 dark:bg-zinc-900 dark:border-white/10 dark:text-zinc-100",children:te.map(a=>e.jsx(W,{value:a,children:a},a))})]})]}),j&&e.jsx("p",{className:"text-sm text-red-400",children:j}),R&&e.jsxs("div",{className:"rounded-lg border p-4 text-sm bg-amber-50 border-amber-200 text-amber-800 dark:bg-amber-500/10 dark:border-amber-500/30 dark:text-amber-200",children:[e.jsx("p",{className:"mb-3",children:"Você atingiu o limite de 3 pesquisas gratuitas hoje. Faça login para continuar."}),e.jsxs("div",{className:"flex flex-col flex-wrap gap-2",children:[e.jsx(p,{type:"button",variant:"default",className:"bg-gradient-to-r from-purple-500 to-blue-500 text-white",asChild:!0,children:e.jsx(k,{to:"/login",state:{from:"/"},children:"Entrar"})}),e.jsx(p,{type:"button",variant:"outline",asChild:!0,children:e.jsx(k,{to:"/register",children:"Criar conta"})})]})]}),e.jsx(p,{type:"submit",size:"lg",disabled:l,className:"w-full bg-gradient-to-r from-purple-500 to-blue-500 hover:opacity-90 transition-opacity text-white",children:l?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(X,{className:"h-4 w-4 animate-spin"}),E==="player"?"Analisando suas partidas…":"Calculando métricas…"]}):"Analisar minhas partidas"})]}),e.jsx("p",{className:"text-xs text-zinc-500",children:"Não é necessário login. Resultados em segundos."})]})})})]}),e.jsx("section",{className:"mx-auto max-w-5xl px-6 pb-20",children:e.jsxs("div",{className:"grid gap-6 sm:grid-cols-3",children:[e.jsx(b,{icon:e.jsx(Y,{className:"h-6 w-6 text-purple-400"}),title:"Métricas profissionais",description:"CS/min, part. em abates, dano e muito mais."}),e.jsx(b,{icon:e.jsx(Z,{className:"h-6 w-6 text-blue-400"}),title:"Identifique seus erros",description:"Descubra o que está te impedindo de subir de elo."}),e.jsx(b,{icon:e.jsx($,{className:"h-6 w-6 text-pink-400"}),title:"Feedback automático",description:"Dicas baseadas em regras para melhorar seu gameplay."})]})})]}),e.jsx(q,{})]})}function b({icon:t,title:r,description:s}){return e.jsxs(o.div,{whileHover:{y:-4},className:"rounded-2xl border border-zinc-200/80 bg-white/80 hover:bg-white dark:border-white/10 dark:bg-white/5 dark:hover:bg-white/10 p-6 backdrop-blur-xl transition-all",children:[e.jsx("div",{className:"mb-3",children:t}),e.jsx("h3",{className:"mb-1 font-semibold",children:r}),e.jsx("p",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:s})]})}export{be as default};
