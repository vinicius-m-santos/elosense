import{j as e,r as o,av as ke,aw as O,aq as ze,ax as Pe,ar as M,as as q,at as z}from"./vendor-mRmXoTzJ.js";import{h as H,B as N,C as Q,a as V,i as Ce,A as Se}from"./AppFooter-D1BxJuTO.js";import{I as C}from"./input-CDCc1mAV.js";import{c as d,u as A,A as De,b as Ae,d as Re}from"./index-BYCepXWl.js";import{A as Ue}from"./AppHeader-CnLp3pGj.js";import{u as R}from"./request-Yaqov5oQ.js";import{m as Fe}from"./motion-DeyU0M5x.js";import{n as $e,o as Te,p as Ee,q as _,r as W,D as Z,s as K,A as X,O as G,t as J,u as Y,v as Ie,w as Le,x as Oe,y as ee,z as Be,B as se,E as ae,G as te,H as re}from"./radix-Ba4cyD9q.js";import{B as ie}from"./buttonLoader-BZMCoE2b.js";import{t as E,u as F,B as Me,X as qe,E as $,b as T}from"./icons-LK5f2ZN2.js";import"./router-b8HoQcXb.js";import"./Api-6n4J91DV.js";const He=({size:s=8,color:a="white"})=>e.jsx(Fe.div,{className:"absolute inset-0 flex items-center justify-center rounded-full bg-black/40",animate:{rotate:360},transition:{repeat:1/0,duration:1,ease:"linear"},children:e.jsx("div",{className:`w-${s} h-${s} border-3 border-t-transparent rounded-full`,style:{borderColor:a,borderTopColor:"transparent"}})}),Qe=$e,Ve=Te,_e=Ee,ne=o.forwardRef(({className:s,...a},t)=>e.jsx(G,{className:d("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...a,ref:t}));ne.displayName=G.displayName;const le=o.forwardRef(({className:s,...a},t)=>e.jsxs(_e,{children:[e.jsx(ne,{}),e.jsx(_,{ref:t,className:d("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...a})]}));le.displayName=_.displayName;const oe=({className:s,...a})=>e.jsx("div",{className:d("flex flex-col space-y-2 text-center sm:text-left",s),...a});oe.displayName="AlertDialogHeader";const ce=({className:s,...a})=>e.jsx("div",{className:d("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...a});ce.displayName="AlertDialogFooter";const de=o.forwardRef(({className:s,...a},t)=>e.jsx(W,{ref:t,className:d("text-lg font-semibold",s),...a}));de.displayName=W.displayName;const me=o.forwardRef(({className:s,...a},t)=>e.jsx(Z,{ref:t,className:d("text-sm text-muted-foreground",s),...a}));me.displayName=Z.displayName;const ue=o.forwardRef(({className:s,...a},t)=>e.jsx(X,{ref:t,className:d(H(),s),...a}));ue.displayName=X.displayName;const xe=o.forwardRef(({className:s,...a},t)=>e.jsx(K,{ref:t,className:d(H({variant:"outline"}),"mt-2 sm:mt-0",s),...a}));xe.displayName=K.displayName;function I({onClick:s=()=>{},styling:a="",variant:t="default",disabled:r=!1,children:n,size:u="default",type:i="button"}){return e.jsx(N,{disabled:r,className:a,onClick:s,variant:t,type:i,size:u,children:n})}function We({text:s="Remover",onClick:a=()=>{},styling:t="flex cursor-pointer text-white hover:opacity-80 items-center gap-2",loading:r=!1,variant:n="destructive"}){return e.jsxs(I,{disabled:r,styling:`${t}`,onClick:a,variant:n,children:[r&&e.jsx(ie,{}),!r&&s]})}function fe({text:s="Cancelar",onClick:a=()=>{},styling:t="flex cursor-pointer items-center gap-2",variant:r="outline"}){return e.jsx(I,{styling:`${t}`,onClick:a,variant:r,children:s})}function Ze({onConfirm:s,title:a="Remover foto do perfil?",children:t}){return e.jsxs(Qe,{children:[e.jsx(Ve,{asChild:!0,children:t??e.jsx(N,{size:"icon",className:`\r
              absolute bottom-0 right-0 z-10 w-8 h-8 rounded-full\r
              bg-red-600 hover:bg-red-500\r
              text-white shadow-md\r
              transition-all duration-200\r
              hover:scale-105\r
            `,children:e.jsx(E,{className:"w-4 h-4"})})}),e.jsxs(le,{className:`\r
          w-[92vw] max-w-md\r
          rounded-2xl border\r
          \r
          bg-white border-zinc-200 text-zinc-900\r
          dark:bg-zinc-900/95 dark:border-white/10 dark:text-zinc-100\r
          \r
          backdrop-blur-xl\r
          shadow-2xl\r
        `,children:[e.jsxs(oe,{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`\r
                flex items-center justify-center\r
                w-10 h-10 rounded-xl\r
                bg-red-100 text-red-600\r
                dark:bg-red-500/15 dark:text-red-400\r
              `,children:e.jsx(E,{className:"w-5 h-5"})}),e.jsx(de,{className:"text-lg font-semibold",children:a})]}),e.jsx(me,{className:`\r
              text-sm leading-relaxed\r
              text-zinc-600\r
              dark:text-zinc-400\r
            `,children:"Essa ação removerá sua foto atual permanentemente. Você poderá enviar uma nova imagem depois, se desejar."})]}),e.jsxs(ce,{className:"mt-6 gap-2 sm:gap-3",children:[e.jsx(xe,{asChild:!0,children:e.jsx(fe,{children:"Cancelar"})}),e.jsx(ue,{onClick:s,asChild:!0,children:e.jsx(We,{children:"Remover foto"})})]})]})]})}const Ke=5*Math.pow(10,6);function Xe({variant:s,data:a}){const t=o.useRef(null),r=R(),n=ke(),{updateUser:u,user:i}=A(),[x,p]=o.useState(s==="user"?a.avatarUrl:a.user?.avatarUrl),[v,w]=o.useState(""),f=a.id;o.useEffect(()=>{if(a)if(s==="user"){const l=a;p(l.avatarUrl),w(`${l.firstName?.[0]?.toUpperCase()??""}${l.lastName?.[0]?.toUpperCase()??""}`)}else{const l=a;p(l.user?.avatarUrl),w(`${l.name?.[0]?.toUpperCase()??""}${l.lastName?.[0]?.toUpperCase()??""}`)}},[a,s]);const y=O({mutationFn:async l=>{if(l.size>Ke){ze.error("Tamanho máximo de 5MB");return}const m=new FormData;m.append("avatar",l);const h=s==="user"?"user":"client",c=await r({method:"POST",url:`/${h}/avatar/${f}`,data:m,headers:{"Content-Type":"multipart/form-data"}});return await r({method:"PATCH",url:`/${h}/${f}`,data:{avatarUrl:c}}),c},onSuccess:l=>{if(p(l),s==="user"){const m=i?{...i,avatarUrl:l}:{...a,avatarUrl:l};if(n.setQueryData(["user",f],m),u&&i&&u({...i,avatarUrl:l}),i?.client?.id){const h=String(i.client.id);n.setQueryData(["client",h],c=>c&&{...c,user:{...c?.user,avatarUrl:l}})}}else n.setQueryData(["client",String(f)],m=>({...m,user:{...m?.user,avatarUrl:l}}))}}),g=O({mutationFn:async()=>{await r({method:"DELETE",url:`/${s==="user"?"user":"client"}/avatar/${f}`})},onSuccess:()=>{if(p(null),s==="user"){const l=i?{...i,avatarUrl:null}:{...a,avatarUrl:null};if(n.setQueryData(["user",f],l),u&&i&&u({...i,avatarUrl:null}),i?.client?.id){const m=String(i.client.id);n.setQueryData(["client",m],h=>h&&{...h,user:{...h?.user,avatarUrl:null}})}}else n.setQueryData(["client",String(f)],l=>({...l,user:{...l?.user,avatarUrl:null}}))}}),P=l=>{const m=l.target.files?.[0];m&&y.mutate(m)},k=()=>{g.mutate()},U=()=>{y.isPending||g.isPending||t.current&&(t.current.value="",t.current.click())},j=y.isPending||g.isPending,b=s==="user"?"Remover foto do perfil?":"Remover foto do aluno?";return e.jsxs("div",{className:"relative group",children:[e.jsxs(De,{className:"h-24 w-24 cursor-pointer ring-2 ring-muted/50 hover:ring-primary/50 transition-all",onClick:U,children:[x?e.jsx(Ae,{src:x,alt:s==="user"?"Foto do perfil":"Foto do cliente",className:"object-cover object-center"},x):e.jsx(Re,{className:"bg-gray-200",children:v||"?"}),j&&e.jsx(He,{})]},x??"no-avatar"),x&&!j&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/40 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:[e.jsx(F,{className:"w-8 h-8 mb-0.5",strokeWidth:2}),e.jsx("span",{className:"text-xs font-medium",children:"Trocar"})]}),e.jsx("div",{className:"absolute w-10 h-10 bottom-0 left-0 p-1.5 rounded-full bg-primary text-primary-foreground shadow-md pointer-events-none",title:"Clique para alterar a foto","aria-hidden":!0,children:e.jsx(F,{className:"w-4 h-4 m-auto h-full",strokeWidth:2})})]}),!j&&x&&e.jsx(Ze,{onConfirm:k,title:b,children:e.jsx(N,{size:"icon",variant:"destructive",className:"absolute cursor-pointer w-10 h-10 text-white rounded-full bottom-0 right-0 opacity-80 hover:opacity-100 transition-opacity z-10",children:e.jsx(E,{className:"w-4 h-4"})})}),!x&&!j&&e.jsx("div",{className:"absolute bottom-0 left-0 p-1.5 rounded-full bg-primary text-primary-foreground shadow-md z-10 pointer-events-none","aria-hidden":!0,children:e.jsx(F,{className:"w-4 h-4",strokeWidth:2})}),e.jsx("input",{type:"file",accept:"image/*",className:"hidden",ref:t,onChange:P})]})}const he=o.forwardRef(({className:s,orientation:a="horizontal",decorative:t=!0,...r},n)=>e.jsx(J,{ref:n,decorative:t,orientation:a,className:d("shrink-0 bg-border",a==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",s),...r}));he.displayName=J.displayName;const pe=o.forwardRef(({className:s,...a},t)=>e.jsx(Y,{className:d("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",s),...a,ref:t,children:e.jsx(Ie,{className:d("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));pe.displayName=Y.displayName;function Ge(){const{user:s,updateUser:a}=A(),t=R(),[r,n]=o.useState(null),u=async(i,x)=>{if(s){n(i);try{const p=await t({method:"patch",url:`/user/${s.id}/preferences`,data:{[i]:x},showSuccess:!1});a({...s,...p})}catch{}finally{n(null)}}};return e.jsx("div",{className:"space-y-6",children:e.jsx(Q,{className:"border-zinc-200/80 bg-white/80 backdrop-blur-xl text-zinc-900 dark:border-white/10 dark:bg-white/5 dark:text-zinc-100",children:e.jsxs(V,{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Me,{className:"text-zinc-600 dark:text-zinc-400"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Notificações"})]}),e.jsx(he,{className:"bg-zinc-200 dark:bg-white/10"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(B,{label:"Notificações por e-mail",description:"Receber atualizações importantes por e-mail",checked:s?.emailNotifications??!0,onCheckedChange:i=>u("emailNotifications",i),disabled:r==="emailNotifications"}),e.jsx(B,{label:"Notificações no app",description:"Receber alertas dentro da aplicação",checked:s?.appNotifications??!0,onCheckedChange:i=>u("appNotifications",i),disabled:r==="appNotifications"})]})]})})})}function B({label:s,description:a,checked:t,onCheckedChange:r,disabled:n}){return e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium",children:s}),e.jsx("p",{className:"text-xs text-zinc-600 dark:text-zinc-400",children:a})]}),e.jsx(pe,{checked:t,onCheckedChange:r,disabled:n})]})}const Je=Le,Ye=Oe,ge=o.forwardRef(({className:s,...a},t)=>e.jsx(te,{ref:t,className:d("fixed inset-0 z-50 bg-black/20  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...a}));ge.displayName=te.displayName;const be=o.forwardRef(({className:s,children:a,...t},r)=>e.jsxs(Ye,{children:[e.jsx(ge,{}),e.jsxs(ee,{ref:r,className:d("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...t,children:[a,e.jsxs(Be,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(qe,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));be.displayName=ee.displayName;const Ne=({className:s,...a})=>e.jsx("div",{className:d("flex flex-col space-y-1.5 text-center sm:text-left",s),...a});Ne.displayName="DialogHeader";const we=({className:s,...a})=>e.jsx("div",{className:d("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...a});we.displayName="DialogFooter";const je=o.forwardRef(({className:s,...a},t)=>e.jsx(se,{ref:t,className:d("text-lg font-semibold leading-none tracking-tight",s),...a}));je.displayName=se.displayName;const ve=o.forwardRef(({className:s,...a},t)=>e.jsx(ae,{ref:t,className:d("text-sm text-muted-foreground",s),...a}));ve.displayName=ae.displayName;const es=Pe("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),D=o.forwardRef(({className:s,...a},t)=>e.jsx(re,{ref:t,className:d(es(),s),...a}));D.displayName=re.displayName;function ss({text:s="Salvar",loading:a=!1,styling:t="",size:r="default",disabled:n=!1,type:u="button",onClick:i}){return e.jsx(I,{disabled:n||a,size:r,type:u,onClick:i,styling:`flex items-center gap-2 cursor-pointer font-semibold ${t}`,children:a?e.jsx(ie,{}):s})}const as=z.object({currentPassword:z.string().min(1,"Senha atual é obrigatória"),newPassword:z.string().min(8,"A senha deve ter pelo menos 8 caracteres").regex(/[a-z]/,"A senha deve conter letras minúsculas").regex(/[A-Z]/,"A senha deve conter letras maiúsculas").regex(/[0-9]/,"A senha deve conter números"),confirmPassword:z.string().min(1,"Confirmação de senha é obrigatória")}).refine(s=>s.newPassword===s.confirmPassword,{message:"As senhas não coincidem",path:["confirmPassword"]});function ts(s){const a=[];let t=0;s.length>=8?t+=1:a.push("Pelo menos 8 caracteres"),/[a-z]/.test(s)?t+=1:a.push("Letras minúsculas"),/[A-Z]/.test(s)?t+=1:a.push("Letras maiúsculas"),/[0-9]/.test(s)?t+=1:a.push("Números"),s.length>=12&&(t+=1);let r="weak";return t>=4?r="strong":t>=3&&(r="medium"),{strength:r,score:t,feedback:a}}function rs({open:s,onOpenChange:a}){const[t,r]=o.useState(!1),[n,u]=o.useState(!1),[i,x]=o.useState(!1),[p,v]=o.useState(!1),w=R(),{user:f,updateUser:y}=A(),{register:g,handleSubmit:P,watch:k,reset:U,trigger:j,formState:{errors:b,isValid:l}}=M({resolver:q(as),mode:"onChange"}),m=k("newPassword",""),h=k("confirmPassword",""),c=m?ts(m):null;o.useEffect(()=>{h&&j("confirmPassword")},[m,h,j]);const ye=async S=>{if(f){v(!0);try{await w({method:"post",url:`/user/${f.id}/change-password`,data:{currentPassword:S.currentPassword,newPassword:S.newPassword},showSuccess:!0,successMessage:"Senha alterada com sucesso"}),U(),a(!1)}catch{}finally{v(!1)}}};return e.jsx(Je,{open:s,onOpenChange:a,children:e.jsxs(be,{className:"rounded-xl w-[90vw] max-w-[400px] sm:max-w-[500px] max-h-[85vh] overflow-y-auto border-zinc-200/80 bg-white dark:border-purple-500/20 dark:bg-zinc-900/95 dark:backdrop-blur-xl text-zinc-900 dark:text-zinc-100 shadow-xl",children:[e.jsxs(Ne,{children:[e.jsx(je,{className:"text-zinc-900 dark:text-zinc-100",children:"Alterar senha"}),e.jsx(ve,{className:"text-zinc-600 dark:text-zinc-400",children:"Digite sua senha atual e escolha uma nova senha segura."})]}),e.jsxs("form",{onSubmit:P(ye),children:[e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(D,{htmlFor:"currentPassword",className:"text-zinc-700 dark:text-zinc-300",children:"Senha atual"}),e.jsxs("div",{className:"relative",children:[e.jsx(C,{id:"currentPassword",type:t?"text":"password",...g("currentPassword"),className:"pr-10 bg-zinc-50 border-zinc-200 text-zinc-900 focus-visible:ring-purple-500 dark:bg-white/5 dark:border-white/10 dark:text-zinc-100"}),e.jsx(N,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3",onClick:()=>r(!t),children:t?e.jsx($,{className:"h-4 w-4"}):e.jsx(T,{className:"h-4 w-4"})})]}),b.currentPassword&&e.jsx("p",{className:"text-xs text-red-400",children:b.currentPassword.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(D,{htmlFor:"newPassword",className:"text-zinc-700 dark:text-zinc-300",children:"Nova senha"}),e.jsxs("div",{className:"relative",children:[e.jsx(C,{id:"newPassword",type:n?"text":"password",...g("newPassword"),className:"pr-10 bg-zinc-50 border-zinc-200 text-zinc-900 focus-visible:ring-purple-500 dark:bg-white/5 dark:border-white/10 dark:text-zinc-100"}),e.jsx(N,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3",onClick:()=>u(!n),children:n?e.jsx($,{className:"h-4 w-4"}):e.jsx(T,{className:"h-4 w-4"})})]}),b.newPassword&&e.jsx("p",{className:"text-xs text-red-400",children:b.newPassword.message}),c&&m&&e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex gap-1 h-1.5",children:[e.jsx("div",{className:`flex-1 rounded ${c.strength==="weak"?"bg-red-500":c.strength==="medium"?"bg-amber-500":"bg-emerald-500"}`}),e.jsx("div",{className:`flex-1 rounded ${c.strength==="strong"?"bg-emerald-500":c.strength==="medium"?"bg-amber-500":"bg-zinc-300 dark:bg-zinc-700"}`}),e.jsx("div",{className:`flex-1 rounded ${c.strength==="strong"?"bg-emerald-500":"bg-zinc-300 dark:bg-zinc-700"}`})]}),e.jsxs("p",{className:"text-xs text-zinc-600 dark:text-zinc-400",children:["Força:"," ",e.jsx("span",{className:c.strength==="weak"?"text-red-500 dark:text-red-400":c.strength==="medium"?"text-amber-500 dark:text-amber-400":"text-emerald-500 dark:text-emerald-400",children:c.strength==="weak"?"Fraca":c.strength==="medium"?"Média":"Forte"})]}),c.feedback.length>0&&e.jsx("ul",{className:"text-xs text-zinc-600 dark:text-zinc-400 list-disc list-inside",children:c.feedback.map((S,L)=>e.jsx("li",{children:S},L))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(D,{htmlFor:"confirmPassword",className:"text-zinc-700 dark:text-zinc-300",children:"Confirmar nova senha"}),e.jsxs("div",{className:"relative",children:[e.jsx(C,{id:"confirmPassword",type:i?"text":"password",...g("confirmPassword"),className:"pr-10 bg-zinc-50 border-zinc-200 text-zinc-900 focus-visible:ring-purple-500 dark:bg-white/5 dark:border-white/10 dark:text-zinc-100"}),e.jsx(N,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3",onClick:()=>x(!i),children:i?e.jsx($,{className:"h-4 w-4"}):e.jsx(T,{className:"h-4 w-4"})})]}),b.confirmPassword&&e.jsx("p",{className:"text-xs text-red-400",children:b.confirmPassword.message})]})]}),e.jsxs(we,{className:"flex flex-col sm:flex-row gap-2 sm:justify-end",children:[e.jsx(fe,{type:"button",onClick:()=>a(!1)}),e.jsx(ss,{type:"submit",loading:p,disabled:!l||p,styling:"bg-gradient-to-r from-purple-500 to-blue-500 text-white hover:opacity-90"})]})]})]})})}const is=z.object({firstName:z.string().min(1,"Nome é obrigatório")});function bs(){const{user:s,updateUser:a,isValidating:t}=A(),r=R(),[n,u]=o.useState(!1),[i,x]=o.useState(!1),{register:p,handleSubmit:v,formState:{errors:w,isDirty:f}}=M({resolver:q(is),defaultValues:{firstName:s?.firstName??""},values:{firstName:s?.firstName??""}}),y=async P=>{if(s){u(!0);try{const k=await r({method:"patch",url:`/user/${s.id}`,data:{firstName:P.firstName}});a({...s,...k})}finally{u(!1)}}},g=!s||t;return e.jsxs("div",{className:"min-h-screen w-full bg-zinc-100 text-zinc-900 transition-colors duration-500 dark:bg-zinc-950 dark:text-zinc-100",children:[e.jsxs("div",{className:"pointer-events-none fixed inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute -top-40 left-1/2 -translate-x-1/2 h-[500px] w-[500px] rounded-full bg-purple-600/20 blur-[120px]"}),e.jsx("div",{className:"absolute bottom-0 right-0 h-[400px] w-[400px] rounded-full bg-blue-600/20 blur-[120px]"})]}),e.jsx(Ue,{backTo:"/",badgeLabel:"Perfil",maxWidth:"max-w-6xl"}),e.jsxs("main",{className:"relative z-10 mx-auto max-w-2xl px-6 py-8",children:[e.jsx("h1",{className:"mb-6 text-2xl font-bold",children:"Perfil"}),g?e.jsx(Ce,{}):s?e.jsxs(e.Fragment,{children:[e.jsx(Q,{className:"mb-6 border-zinc-200/80 bg-white/80 backdrop-blur-xl dark:border-white/10 dark:bg-white/5",children:e.jsx(V,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col items-center gap-6 sm:flex-row sm:items-start",children:[e.jsx(Xe,{variant:"user",data:{id:s.id,firstName:s.firstName,avatarUrl:s.avatarUrl}}),e.jsx("div",{className:"w-full min-w-0 flex-1 space-y-4",children:e.jsxs("form",{onSubmit:v(y),className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-zinc-500",children:"Nome"}),e.jsx(C,{...p("firstName"),placeholder:"Nome",className:"bg-zinc-50 border-zinc-200 text-zinc-900 focus-visible:ring-purple-500 dark:bg-white/5 dark:border-white/10 dark:text-zinc-100",disabled:n}),w.firstName&&e.jsx("p",{className:"text-xs text-red-400",children:w.firstName.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-zinc-500",children:"E-mail"}),e.jsx(C,{value:s.email??"",readOnly:!0,disabled:!0,className:"bg-zinc-50 border-zinc-200 text-zinc-900 focus-visible:ring-purple-500 dark:bg-white/5 dark:border-white/10 dark:text-zinc-100"}),e.jsx("p",{className:"text-xs text-zinc-500",children:"O e-mail não pode ser alterado aqui."})]}),f&&e.jsx(N,{type:"submit",disabled:n,className:"bg-gradient-to-r from-purple-500 to-blue-500 text-white hover:opacity-90",children:n?"Salvando…":"Salvar"})]})})]})})}),e.jsxs("section",{className:"mt-8",children:[e.jsx("h2",{className:"mb-4 text-xl font-semibold",children:"Preferências"}),e.jsx(Ge,{})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx(N,{variant:"link",className:"text-sm text-purple-400",onClick:()=>x(!0),children:"Alterar senha"})}),e.jsx(rs,{open:i,onOpenChange:x})]}):null]}),e.jsx(Se,{})]})}export{bs as default};
