import{z as n}from"./react-vendor-BInR9Shn.js";import{u as p}from"./Api-JtIxJkb8.js";function y(){const r=p();return async({method:e="get",url:i,data:l=null,params:c=null,onAccept:t=null,onReject:u=null,showSuccess:d=!1,successMessage:m="Operação realizada com sucesso",showError:f=!0})=>{try{const o=await r.request({method:e,url:i,data:l,params:c}),s=o.data?.data??o.data;return t&&t(s,o),d&&n.success(m),s}catch(o){const s=g(o);throw f&&n.error(s.message||"Erro inesperado"),u&&u(s),s}}}function g(r){if(r.response){const{status:a,data:e}=r.response;return{status:a,message:e?.error?.message||e?.message||e?.detail||e?.error||(typeof e?.error=="string"?e.error:null)||`Requisição falhou (${a})`,code:e?.error?.code||null}}return r.request?{message:"Sem resposta do servidor",code:"NO_RESPONSE"}:{message:r.message,code:"UNKNOWN"}}export{y as u};
